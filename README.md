# ğŸ† First Praise Wallï¼ˆå…¨çƒå…ˆå¤¸å¢™ï¼‰

ä¸€ä¸ªåŸºäº **Cloudflare Python Workers** å’Œ **Durable Objects** çš„æ­£èƒ½é‡ç¤¾åŒºç½‘é¡µåº”ç”¨ã€‚ç”¨æˆ·å¯ä»¥å‚ä¸å…¨çƒå»¶è¿Ÿç«èµ›ã€å‘è¡¨è¡¨æ‰¬ç•™è¨€ã€äº’ç›¸ç‚¹èµï¼Œä½“éªŒç®€å•æœ‰è¶£çš„ç¤¾äº¤äº’åŠ¨ã€‚

![Python](https://img.shields.io/badge/Python-3.12+-blue?logo=python)
![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange?logo=cloudflare)
![License](https://img.shields.io/badge/License-MIT-green)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **å…¨çƒå»¶è¿Ÿæ’è¡Œæ¦œ** - è‡ªåŠ¨æ£€æµ‹è®¿é—®å»¶è¿Ÿï¼Œå±•ç¤º TOP 10 æ’å
- **è¡¨æ‰¬ç•™è¨€å¢™** - å‘è¡¨æ­£èƒ½é‡ç•™è¨€ï¼Œæœ€å¤š 200 å­—ç¬¦
- **ç‚¹èµäº’åŠ¨** - ä¸ºå–œæ¬¢çš„ç•™è¨€ç‚¹èµï¼Œå¢åŠ ä½œè€…å£°èª‰
- **çƒ­é—¨æ¦œå•** - æŒ‰ç‚¹èµæ•°æ’åºçš„çƒ­é—¨ç•™è¨€

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ
- **æ³¨å†Œ/ç™»å½•** - ç®€å•çš„æ˜µç§° + å¯†ç è®¤è¯
- **ä¸ªäººä¸­å¿ƒ** - æŸ¥çœ‹è‡ªå·±çš„ç•™è¨€ã€ç»Ÿè®¡ã€å¾½ç« 
- **å£°èª‰ç³»ç»Ÿ** - æ”¶åˆ°ç‚¹èµ +1ï¼Œåˆ é™¤ä»–äººç•™è¨€ -1
- **ç§¯åˆ†ç³»ç»Ÿ** - ç‚¹èµ +1ï¼Œç­¾åˆ° +10

### ğŸ® æ¿€åŠ±æœºåˆ¶
- **æ¯æ—¥ç­¾åˆ°** - è·å¾—é¢å¤– 1 æ¬¡ç•™è¨€æœºä¼š + 10 ç§¯åˆ†
- **æˆå°±å¾½ç« ** - å£°èª‰ â‰¥50 è§£é”ã€ŒğŸ‘‘ å¢™ä¸»ã€ç§°å·
- **ä¸ªäºº Badge** - å¯åµŒå…¥ GitHub README çš„ SVG å¾½ç« 

### ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§
- **æ•æ„Ÿè¯è¿‡æ»¤** - è‡ªåŠ¨å±è”½ä¸å½“è¨€è®º
- **é¢‘ç‡é™åˆ¶** - æ¯æ—¥ç•™è¨€ 3 æ¬¡ã€åˆ é™¤ 1 æ¬¡
- **é˜²åˆ·æœºåˆ¶** - åŒä¸€ç•™è¨€ä¸å¯é‡å¤ç‚¹èµ

### ğŸ¨ ç•Œé¢ç‰¹æ€§
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- **ä¸»é¢˜åˆ‡æ¢** - Funny / Warm / Neutral ä¸‰ç§ä¸»é¢˜
- **å®æ—¶æ›´æ–°** - è½®è¯¢æœºåˆ¶ä¿æŒæ•°æ®åŒæ­¥
- **åŠ¨ç”»æ•ˆæœ** - æµç•…çš„è¿‡æ¸¡å’Œäº¤äº’åŠ¨ç”»

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### å‰ç½®è¦æ±‚

- Node.js 18+
- Cloudflare è´¦å·
- Wrangler CLI

### éƒ¨ç½²æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/example/first-praise-wall.git
cd first-praise-wall

# 2. å®‰è£… Wrangler CLI
npm install -g wrangler

# 3. ç™»å½• Cloudflare
wrangler login

# 4. éƒ¨ç½²åˆ° Cloudflare Workers
wrangler deploy
```

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®è¾“å‡ºçš„ Worker URL å³å¯ä½¿ç”¨ï¼

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨
wrangler dev

# è®¿é—® http://localhost:8787
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
first-praise-wall/
â”œâ”€â”€ index.py          # ä¸»ç¨‹åºæ–‡ä»¶ï¼ˆPython Workers + å†…åµŒå‰ç«¯ï¼‰
â”œâ”€â”€ wrangler.toml     # Cloudflare Workers é…ç½®
â”œâ”€â”€ pyproject.toml    # Python é¡¹ç›®é…ç½®
â””â”€â”€ README.md         # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”Œ API æ¥å£

### å…¬å¼€æ¥å£ï¼ˆæ— éœ€ç™»å½•ï¼‰

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/` | GET | è¿”å› HTML é¡µé¢ |
| `/api/ping` | GET | å¥åº·æ£€æŸ¥ |
| `/api/leaderboard` | GET | è·å–å»¶è¿Ÿæ’è¡Œæ¦œ TOP 10 |
| `/api/wall` | GET | è·å–ç•™è¨€å¢™ï¼ˆæœ€æ–° 50 æ¡ï¼‰ |
| `/api/stats` | GET | è·å–ç»Ÿè®¡æ•°æ® |
| `/api/badge?nick=æ˜µç§°` | GET | è·å–ç”¨æˆ· SVG å¾½ç«  |

### è®¤è¯æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/register` | POST | ç”¨æˆ·æ³¨å†Œ |
| `/api/login` | POST | ç”¨æˆ·ç™»å½• |

### éœ€è¦ç™»å½•çš„æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/profile` | GET | è·å–ä¸ªäººèµ„æ–™ |
| `/api/praise` | POST | å‘è¡¨ç•™è¨€ |
| `/api/praise/{id}` | DELETE | åˆ é™¤ç•™è¨€ |
| `/api/like/{id}` | POST | ç‚¹èµç•™è¨€ |
| `/api/signin` | POST | æ¯æ—¥ç­¾åˆ° |

### è¯·æ±‚ç¤ºä¾‹

```bash
# æ³¨å†Œ
curl -X POST https://your-worker.workers.dev/api/register \
  -H "Content-Type: application/json" \
  -d '{"nickname": "å¼ ä¸‰", "password": "123456"}'

# ç™»å½•
curl -X POST https://your-worker.workers.dev/api/login \
  -H "Content-Type: application/json" \
  -d '{"nickname": "å¼ ä¸‰", "password": "123456"}'

# å‘è¡¨ç•™è¨€ï¼ˆéœ€è¦ tokenï¼‰
curl -X POST https://your-worker.workers.dev/api/praise \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"content": "ä½ çœŸæ£’ï¼ç»§ç»­åŠ æ²¹ï¼"}'

# è·å–ä¸ªäºº Badge
curl https://your-worker.workers.dev/api/badge?nick=å¼ ä¸‰&theme=warm
```

## ğŸ¨ ä¸»é¢˜å®šåˆ¶

é€šè¿‡ URL å‚æ•° `?theme=` åˆ‡æ¢ä¸»é¢˜ï¼š

| ä¸»é¢˜ | å‚æ•° | é…è‰² |
|------|------|------|
| ğŸ‰ Funny | `?theme=funny` | æ©™é»„è‰²ç³»ï¼ˆé»˜è®¤ï¼‰ |
| â¤ï¸ Warm | `?theme=warm` | çº¢ç²‰è‰²ç³» |
| ğŸ’ Neutral | `?theme=neutral` | è“ç´«è‰²ç³» |

## ğŸ“Š æ•°æ®å­˜å‚¨

é¡¹ç›®ä½¿ç”¨ **Durable Objects** è¿›è¡Œæ•°æ®æŒä¹…åŒ–å­˜å‚¨ï¼š

```python
{
    'users': {
        'æ˜µç§°': {
            'password_hash': 'sha256_hash',
            'reputation': 10,
            'points': 50,
            'created_at': 1234567890
        }
    },
    'tokens': {
        'token_string': 'æ˜µç§°'
    },
    'daily': {
        'æ˜µç§°': {
            'date': '2025-01-15',
            'praise_count': 2,
            'delete_count': 0,
            'signed_in': True
        }
    },
    'praises': [
        {
            'id': '1234567890-1234',
            'nickname': 'æ˜µç§°',
            'content': 'ç•™è¨€å†…å®¹',
            'likes': 5,
            'reputation': 10,
            'time': 1234567890
        }
    ],
    'leaderboard': [
        {
            'city': 'Shanghai',
            'latency': 45,
            'time': 1234567890
        }
    ],
    'stats': {
        'praises': 100,
        'likes': 500,
        'users': 50
    }
}
```

## âš™ï¸ é…ç½®è¯´æ˜

### wrangler.toml

```toml
name = "first-praise-wall"           # Worker åç§°
main = "index.py"                     # å…¥å£æ–‡ä»¶
compatibility_date = "2024-12-01"     # å…¼å®¹æ—¥æœŸ
compatibility_flags = ["python_workers"]  # å¯ç”¨ Python Workers

[durable_objects]
bindings = [
    { name = "PRAISE_WALL", class_name = "PraiseWall" }
]

[[migrations]]
tag = "v1"
new_classes = ["PraiseWall"]
```

## ğŸ”’ å®‰å…¨è¯´æ˜

- å¯†ç ä½¿ç”¨ SHA-256 å“ˆå¸Œå­˜å‚¨ï¼Œä¸ä¿å­˜æ˜æ–‡
- Token åŸºäºæ—¶é—´æˆ³å’Œéšæœºæ•°ç”Ÿæˆ
- æ•æ„Ÿè¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤
- æ‰€æœ‰ç”¨æˆ·è¾“å…¥ç»è¿‡ HTML è½¬ä¹‰

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **Durable Objects** å•å®ä¾‹ä¸²è¡Œå¤„ç†ï¼Œæ— é”å¹¶å‘å®‰å…¨
- **è¾¹ç¼˜è®¡ç®—** å…¨çƒ CDN èŠ‚ç‚¹å°±è¿‘å“åº”
- **è‡ªé€‚åº”è½®è¯¢** ä» 3 ç§’é€æ¸é™è‡³ 10 ç§’
- **æ•°æ®é™åˆ¶** ç•™è¨€/æ’è¡Œæ¦œå„é™ 1000 æ¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Cloudflare Python Workers + Durable Objects
- **å‰ç«¯**: HTML5 + Tailwind CSS 4 + Vanilla JavaScript
- **å­˜å‚¨**: Durable Objects Storage API
- **éƒ¨ç½²**: Wrangler CLI

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] WebSocket å®æ—¶æ¨é€
- [ ] æ¯æ—¥ UTC 00:00 è‡ªåŠ¨é‡ç½®æ’è¡Œæ¦œï¼ˆAlarmsï¼‰
- [ ] Service Worker ç¦»çº¿ç¼“å­˜
- [ ] æ›´å¤šæˆå°±å¾½ç« 
- [ ] ä¸¾æŠ¥åŠŸèƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

- [Cloudflare Workers](https://workers.cloudflare.com/) - è¾¹ç¼˜è®¡ç®—å¹³å°
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [Python](https://www.python.org/) - ç¼–ç¨‹è¯­è¨€

---

<p align="center">
  Made with â¤ï¸ by First Praise Wall Team
</p>

